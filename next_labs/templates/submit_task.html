<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <label>Select App:</label>
    <select name="app_id" required>
        {% for app in apps %}
            <option value="{{ app.id }}">{{ app.app_name }}</option>
        {% endfor %}
    </select><br><br>

    <div id="drop-area" style="width: 200px; height: 80px; border: 1px dashed #aaa; 
         text-align: center; line-height: 75px; font-size: 13px; color: #555; cursor: pointer; margin-top: 10px;">
        Drop or click
        <input type="file" name="screenshot" id="file-input" accept="image/*" style="display: none;" required>
    </div><br>

    <button type="submit">Submit</button>
</form>

<script>
    const dropArea = document.getElementById('drop-area');
    const fileInput = document.getElementById('file-input');

    dropArea.addEventListener('click', () => fileInput.click());

    dropArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        dropArea.style.borderColor = '#007bff';
    });

    dropArea.addEventListener('dragleave', () => {
        dropArea.style.borderColor = '#aaa';
    });

    dropArea.addEventListener('drop', (e) => {
        e.preventDefault();
        dropArea.style.borderColor = '#aaa';
        fileInput.files = e.dataTransfer.files;
    });
</script>
